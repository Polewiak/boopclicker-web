<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Boopclicker</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div id="top-bar" aria-label="Navigation shortcuts">
      <span id="top-bar-logo">Boopclicker</span>
      <div id="top-bar-icons">
        <button class="top-bar-icon" type="button" data-modal="profile-section" title="Profile">ğŸ‘¤</button>
        <button class="top-bar-icon" type="button" data-modal="skin-stats-section" title="Skin stats">ğŸ¨</button>
        <button class="top-bar-icon" type="button" data-modal="stats-panel" title="Stats">ğŸ“Š</button>
        <button class="top-bar-icon" type="button" data-modal="achievements-section" title="Achievements">ğŸ†</button>
        <button class="top-bar-icon" type="button" data-modal="highscores-section" title="Highscores">ğŸ…</button>
        <button class="top-bar-icon" type="button" data-modal="prestige-section" title="Prestige">ğŸ”¥</button>
        <button class="top-bar-icon" type="button" data-modal="meta-perks-section" title="Meta perks">â—</button>
        <button class="top-bar-icon" type="button" data-modal="faction-section" title="Factions">ğŸ¾</button>
        <button class="top-bar-icon" type="button" data-modal="share-section" title="Share">ğŸ”—</button>
        <button class="top-bar-icon" type="button" data-modal="settings-section" title="Settings">âš™ï¸</button>
        <button class="top-bar-icon" type="button" data-modal="debug-section" title="Debug">ğŸ› </button>
      </div>
    </div>

    <div id="main-layout">
      <section id="boop-panel" aria-label="Boop panel">
        <div id="daily-box-float" aria-live="polite">
          <button id="daily-box-float-button" type="button">Open daily box</button>
          <span id="daily-box-float-timer">--:--:--</span>
        </div>
        <div id="boop-header">
          <span id="boop-player-name">Anonymous</span>
        </div>
        <div id="boop-main">
          <div id="boop-count-wrapper">
            <div id="boop-count-label">Boops</div>
            <div id="boop-count-value">0</div>
            <div id="boop-bps-value">0 boops / second</div>
          </div>
          <div id="boop-area">
            <img
              src="./assets/Boop_Default_Skin_Unbooped.png"
              alt="Boop character"
              id="boop-button"
              role="button"
              aria-label="Kliknij, aby boopnÄ…Ä‡"
            />
            <div id="crit-popup" aria-hidden="true">CRITICAL! +0</div>
          </div>
        </div>
        <div id="player-inventory" aria-label="Purchased click upgrades">
          <h3>Inventory</h3>
          <div id="inventory-items"></div>
        </div>
      </section>

      <section id="shop-panel" aria-label="Sklep z upgrade'ami">
        <section id="click-upgrades-section" aria-label="Click upgrades">
          <h2>Click Upgrades</h2>
          <div id="click-upgrades-grid"></div>
          <div id="click-upgrade-tooltip" class="upgrade-tooltip hidden"></div>
        </section>

        <section id="bps-upgrades" aria-label="Auto-Boopers">
          <h2>Auto-Boopers</h2>
          <div id="auto-upgrades-container" class="store-container"></div>
          <div id="auto-booper-tooltip" class="upgrade-tooltip hidden"></div>
        </section>

        <section id="skins-shop" aria-label="Skins Shop">
          <h2>Skins Shop</h2>
          <div id="skins-grid"></div>
          <div id="unlock-with-code">
            <h3>Unlock custom skin</h3>
            <input type="text" id="skin-code-input" placeholder="Enter code" aria-label="Skin unlock code" />
            <button id="skin-code-button" type="button">Unlock</button>
            <p id="skin-code-message" aria-live="polite"></p>
          </div>
        </section>
      </section>
    </div>

    <div class="modal-backdrop hidden" id="modal-backdrop" role="dialog" aria-modal="true">
      <div class="modal-window">
        <button class="modal-close" id="modal-close-button" type="button" aria-label="Close modal">âœ•</button>
        <div id="modal-content"></div>
      </div>
    </div>

    <div id="modal-stash" class="hidden">
      <section id="profile-section" aria-label="Profil gracza">
        <h2>Player Profile</h2>
        <div id="profile-display">
          <span id="profile-avatar" aria-hidden="true">ğŸ§¸</span>
          <span id="profile-name">Anonymous</span>
          <span id="profile-title-display" class="profile-title-badge">No Title</span>
        </div>
        <div id="profile-title-row">
          <label for="profile-title-select">Title:</label>
          <select id="profile-title-select"></select>
        </div>
        <div id="profile-edit">
          <input type="text" id="profile-name-input" placeholder="Your nick" aria-label="Player nickname" />
          <p class="profile-note">Avatar zmienisz, wybierajÄ…c skina w Skins Shop.</p>
          <button id="profile-save-button" type="button">Save</button>
        </div>
      </section>

      <section id="skin-stats-section" aria-label="Skin statistics">
        <h2>Skin Stats</h2>
        <p>Current skin boops: <span id="current-skin-boops">0</span></p>
        <p>
          Most booped skin:
          <span id="top-skin-name">None</span>
          (<span id="top-skin-boops">0</span> boops)
        </p>
      </section>

      <section id="stats-panel" aria-live="polite">
        <h2>Stats</h2>
        <ul class="stats-list">
          <li>Total Clicks: <strong id="stats-total-clicks">0</strong></li>
          <li>Total Critical Boops: <strong id="stats-total-crits">0</strong></li>
          <li>Total Prestiges: <strong id="stats-total-prestiges">0</strong></li>
          <li>Crit chance: <strong id="stats-crit-chance">0%</strong></li>
          <li>Crit multiplier: <strong id="stats-crit-multiplier">Ã—0</strong></li>
          <li>BPC multiplier: <strong id="stats-bpc-multiplier">0</strong></li>
          <li>BPS multiplier: <strong id="stats-bps-multiplier">0</strong></li>
          <li>Global multiplier: <strong id="stats-global-multiplier">0</strong></li>
        </ul>
      </section>

      <section id="achievements-section" aria-label="Achievements">
        <h2>Achievements</h2>
        <div id="achievements-grid"></div>
        <div id="achievements-list"></div>
      </section>

      <section id="highscores-section" aria-label="Local highscores">
        <h2>Highscores</h2>
        <div>
          <h3>Top Boopers</h3>
          <ol id="top-boopers-list"></ol>
        </div>
        <div>
          <h3>Top Skins</h3>
          <ol id="top-skins-list"></ol>
        </div>
      </section>

      <section id="settings-section" aria-label="Settings">
        <h2>Settings</h2>
        <label class="settings-row">
          <input type="checkbox" id="settings-sound" />
          Sound effects
        </label>
        <label class="settings-row">
          <input type="checkbox" id="settings-particles" />
          Floating text / particles
        </label>
        <label class="settings-row">
          <input type="checkbox" id="settings-shortnumbers" />
          Short number format (1.2K, 3.4M)
        </label>
      </section>

      <section id="share-section" aria-label="Share progress">
        <h2>Share</h2>
        <p>Copy a small brag message:</p>
        <textarea id="share-text" rows="3" readonly></textarea>
        <button id="share-copy-button" type="button">Copy to clipboard</button>
        <p id="share-status"></p>
      </section>

      <section id="debug-section" aria-label="Debug tools">
        <h2>Debug (test only)</h2>
        <p>Wersja developerska: szybkie akcje do testowania pÄ™tli gry.</p>
        <div class="debug-actions">
          <button id="debug-add-boops" type="button">Dodaj +10 000 000 boops</button>
          <button id="debug-reset" type="button">Hard reset save</button>
        </div>
      </section>

      <section id="prestige-section" aria-label="Prestige">
        <h2>Prestige</h2>
        <p>Total Boops: <strong id="total-boops-value">0</strong></p>
        <p>Boop Essence: <strong id="boop-essence-value">0</strong></p>
        <p>Potential BE on reset: <strong id="prestige-gain-value">0</strong></p>
        <p>Global multiplier: <strong id="global-multiplier-value">1.00</strong>x</p>
        <button id="prestige-button" type="button" disabled>Ascend (Prestige)</button>
      </section>

      <section id="meta-perks-section" aria-label="Meta Tree">
        <h2>Meta Perks</h2>
        <p>
          Boop Essence dostÄ™pne:
          <strong id="meta-be-value">0</strong>
        </p>
        <div id="meta-perks-container"></div>
      </section>

      <section id="faction-section" aria-label="Factions and Totems">
        <h2>Your Faction</h2>
        <div id="faction-current">Brak wybranego totemu.</div>
        <h3>Change Faction (on Prestige)</h3>
        <div id="faction-choice-container"></div>
      </section>
    </div>

    <div id="achievement-toast" aria-live="assertive"></div>

    <div id="faction-overlay" class="hidden" role="dialog" aria-modal="true">
      <div id="faction-overlay-inner">
        <h1>Choose Your Faction</h1>
        <p>Pick a clan to get a small permanent bonus for this run.</p>
        <div id="faction-overlay-choices"></div>
      </div>
    </div>

    <footer class="footnote">
      <p>Zapisywany lokalnie, gotowy na GitHub Pages.</p>
    </footer>

    <audio id="sfx-boop" src="sfx/boop.mp3" preload="auto"></audio>
    <audio id="sfx-crit" src="sfx/crit.mp3" preload="auto"></audio>
    <audio id="sfx-prestige" src="sfx/prestige.mp3" preload="auto"></audio>

    <script src="./main.js"></script>
  </body>
</html>
